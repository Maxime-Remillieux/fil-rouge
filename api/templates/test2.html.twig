{% extends "base.html.twig" %}

{% block body %}
<script>
    function handleSubmit(e){
        e.preventDefault();
        const request={
            img: document.getElementById('img').files[0];
        }
        console.log(request);

        var xhr = new XMLHttpRequest();
        xhr.onreadystatechange = (result) =>{
            console.log(JSON.parse(result));
        }
        xhr.open('POST', 'http://localhost:8000/test2');
        xhr.send(JSON.stringify(request));
    }
</script>
<form onSubmit="handleSubmit()">
    <input type="file" id="img">
    <button type="submit">Envoyer</button>
</form>
{% endblock %}